<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Card 4×5 Template</title>

  <style>
  /* ── ❶ 自訂區 ───────────────────── */
  :root {
    /* 背景主色/次色（空字串表示單色） */
    --color-primary:   {{primary}};
    --color-secondary: {{secondary}};

    /* 文字色 */
    --text-color: {{textColor}};

    /* 字體 */
    --font-family: 'MonoLisaVar', Arial, sans-serif;

    /* 字級設定 */
    --font-author-size: 0.9rem;
    --font-repo-size:   2rem;
    --font-label-size:  0.75rem;
    --font-value-size:  0.8rem;
    --font-handle-size: 0.8rem;

    /* 間距設定 */
    --edge-spacing:   60px;
    --author-repo-gap: 2px;
    --tag-gap:       4px;
    --field-gap:     12px;
    --radius:        0px;  /* 方角 */
  }

  /* ❷ 嵌入式字體 Data URI */
  @font-face {
    font-family: 'MonoLisaVar';
    src: url('{{fontDataUrl}}') format('truetype');
    font-weight: 100 900;
    font-style: normal;
    font-display: swap;
  }

  /* ── Reset & Layout ───────────────── */
  *, *::before, *::after { box-sizing: border-box; margin:0; padding:0; }
  body {
    background: #000;        /* 整頁黑底 */
    display: flex;
    justify-content: center;
    align-items: center;
    min-height: 100vh;
    font-family: var(--font-family);
  }

  /* 卡片 (4:5) */
  .card {
    position: relative;
    width: 360px;
    aspect-ratio: 4/5;
    border-radius: var(--radius);
    background: linear-gradient(
      135deg,
      var(--color-primary),
      var(--color-secondary, var(--color-primary))
    );
    overflow: hidden;
    color: var(--text-color);
    font-family: var(--font-family);
  }

  /* 作者 */
  .author {
    position: absolute;
    top: var(--edge-spacing);
    left: var(--edge-spacing);
    right: var(--edge-spacing);
    font-size: var(--font-author-size);
    overflow-wrap: anywhere;
  }

  /* Repo + Tag */
  .repo {
    position: absolute;
    left: var(--edge-spacing);
    right: var(--edge-spacing);
    top: calc(
      var(--edge-spacing)
      + var(--font-author-size)
      + var(--author-repo-gap)
    );
    font-size: var(--font-repo-size);
    font-weight: bold;
    line-height: 1.1;
    overflow-wrap: anywhere;
  }
  .repo .tag {
    display: block;
    font-size: var(--font-label-size);
    opacity: .8;
    margin-top: var(--tag-gap);
  }

  /* 右下統計 */
  .fields {
    position: absolute;
    bottom: var(--edge-spacing);
    right: var(--edge-spacing);
    display: flex;
    flex-direction: column;
    align-items: flex-end;
    gap: var(--field-gap);
  }
  .field {
    display: flex;
    flex-direction: column;
    align-items: flex-end;
    line-height: 1.1;
  }
    .field .label { font-size: var(--font-label-size); opacity: .8; }
    .field .value { font-size: var(--font-value-size); font-weight: 600; }

  /* Handle */
  .handle {
    position: absolute;
    bottom: var(--edge-spacing);
    left: var(--edge-spacing);
    transform: rotate(-90deg);
    transform-origin: left bottom;
    font-size: var(--font-handle-size);
  }
  </style>
</head>
<body>
  <div class="card">
    <div class="author">{{author}}</div>
    <div class="repo">
      {{repo}}
      <span class="tag">{{domain}} {{serial}}</span>
    </div>
    <div class="fields">
      <div class="field"><span class="label">Star</span><span class="value">{{star}}</span></div>
      <div class="field"><span class="label">Add</span><span class="value">{{add}}</span></div>
      <div class="field"><span class="label">Lan</span><span class="value">{{lang}}</span></div>
      <div class="field"><span class="label">Forks</span><span class="value">{{forks}}</span></div>
    </div>
    <div class="handle">{{handle}}</div>
  </div>
</body>
</html>